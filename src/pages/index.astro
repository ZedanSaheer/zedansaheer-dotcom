---
import NewsBanner from "@components/core/NewsBanner.astro";
import HeroSection from "@components/index/HeroSection.astro";
import MainLayout from "@layouts/MainLayout.astro";
import { defaultMetaData } from "@scripts/utils/constants";
import PersonalIntroductionSection from "@components/index/PersonalIntroductionSection.astro";
import RecentBlogs from "@components/index/RecentBlogs.astro";
import PersonalTraitsSection from "@components/index/PersonalTraitsSection.astro";
import { formatCollection } from "@scripts/utils/methods";
import { getCollection, type CollectionEntry } from "astro:content";
import ContactMe from "@src/components/index/ContactMe.astro";

const blogPosts: CollectionEntry<"blogs">[] = await getCollection("blogs");
formatCollection(blogPosts, { sortByDate: true, limit: 3 });
---

<MainLayout bodyStyle="index" metaData={defaultMetaData}>
  <NewsBanner />
  <HeroSection />
  <PersonalIntroductionSection />
  <PersonalTraitsSection />
  <RecentBlogs />
  <ContactMe />
</MainLayout>
