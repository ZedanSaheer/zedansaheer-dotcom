---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import RandomBackgroundGenerator from "./RandomBackgroundGenerator.astro";

type Props = {
  src?: ImageMetadata;
  alt?: string;
  title?: string;
  marginBottom?: string;
};

const {
  src,
  marginBottom = "mb-10 md:mb-8",
  alt,
  title = "no cover available",
} = Astro.props;
const isImageValueDefined = src !== undefined && alt !== undefined;
---

<div
  class=`w-full h-full flex justify-center items-center aspect-video overflow-hidden rounded-t-2xl animate-fade-right ${marginBottom}`
>
  {
    isImageValueDefined ? (
      <Image src={src} alt={alt} class="w-full h-full" loading="lazy" />
    ) : (
      <RandomBackgroundGenerator title={title} />
    )
  }
</div>
